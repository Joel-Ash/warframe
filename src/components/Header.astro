---
import { SITE_TITLE } from "../consts";
import HeaderLink from "./HeaderLink.astro";
---

<header>
  <nav>
    <h2><a href="/main">{SITE_TITLE}</a></h2>

    <div class="internal-links">
      <HeaderLink href="/main">메인</HeaderLink>
      <HeaderLink href="/guide">가이드</HeaderLink>
      <HeaderLink href="/moding">모딩</HeaderLink>
    </div>
  </nav>
</header>

<style>
  /* ===== Header 기본(라이트) ===== */
  header {
    margin: 0;
    padding: 0 1em;
    background: #ffffff;
    box-shadow: 0 2px 8px rgba(var(--black), 0.05);
  }

  nav {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: flex-start; /* 로고 왼쪽 */
    min-height: 56px;
  }

  h2 {
    margin: 0;
    font-size: 1em;
  }

  h2 a {
    text-decoration: none;
    color: rgb(var(--gray-dark));
    font-weight: 700;
  }

  .internal-links {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  /* HeaderLink가 결국 <a>를 렌더링하니까 nav a로 잡으면 됨 */
  nav a {
    display: flex;
    align-items: center;
    height: 100%;
    padding: 0 0.9rem;
    border-bottom: 4px solid transparent;
    text-decoration: none;

    color: rgb(var(--gray-dark));
    font-weight: 600;
    letter-spacing: 0.02em;
  }

  nav a.active {
    border-bottom-color: var(--accent);
    color: var(--accent);
    font-weight: 800;
  }

  /* ===== 모바일(기존 동작 유지: 가운데 -> 오른쪽) ===== */
  @media (max-width: 720px) {
    .internal-links {
      position: static;
      transform: none;
      margin-left: auto;
    }
  }

  /* ===== 다크모드에서 헤더만 다크로 ===== */
  @media (prefers-color-scheme: dark) {
    header {
      background: #111318; /* 헤더 바탕 */
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.35);
    }

    h2 a {
      color: rgba(255, 255, 255, 0.9);
    }

    nav a {
      color: rgba(255, 255, 255, 0.7);
    }

    nav a.active {
      color: var(--accent);
      border-bottom-color: var(--accent);
    }
  }
</style>
